PORT=3001

# Influx (asegúrate que coincida con la IP donde corre InfluxDB)
# INFLUX_URL=http://localhost:8086
#INFLUX_URL=http://172.23.24.129:8086
INFLUX_URL=http://172.25.0.84:8086
INFLUX_TOKEN=dev-token-123
INFLUX_ORG=mi_org
INFLUX_BUCKET=telemetry

ALLOWED_ORIGINS=http://localhost:5173

DST_ENABLED=true
# Usa .txt o .for según prefieras:
DST_PRIMARY_URL_TEMPLATE=https://iswa.ccmc.gsfc.nasa.gov/iswa_data_tree/index/geomagnetic/Dst-realtime/WDC-Kyoto/dst{yy}{mm}.txt
# Fallback opcional (HTML mensual de Kyoto):
DST_FALLBACK_URL=https://wdc.kugi.kyoto-u.ac.jp/dst_realtime/presentmonth/index.html
DST_CACHE_SEC=120
DST_DEBUG=0

KP_ENABLED=true
KP_LOOKBACK_DAYS=10
KP_CRON=*/15 * * * *
KP_STATUS=now

# =========================
# NUEVO: Config EFM "live"
# =========================
# Estos nombres calzan con tu telegraf.conf (measurement/fields)
EFM_MEASUREMENT=efm100
EFM_VALUE_FIELD=efm_value
EFM_STATUS_FIELD=efm_status

# Como no tienes tag "station", hacemos el filtro opcional:
# Usa "*" para NO filtrar por tag (ver server.js: station="*" omite el filtro)
EFM_TAG_KEY=host
DEFAULT_STATION=*

# Ventana y agregación por defecto para /api/efm/live
DEFAULT_EFM_SINCE=10m
DEFAULT_EFM_EVERY=5s

# Límite de puntos devueltos por seguridad
EFM_MAX_POINTS=2000
VITE_API_URL=http://localhost:3001


# =========================
# Magnetómetro Live (Influx)
# =========================
# Bucket real donde está el magnetómetro
MAGNETO_BUCKET=magnetometers

# Measurement / campo en Influx (ojo: h minúscula)
MAGNETO_MEASUREMENT=magnetometer
MAGNETO_FIELD=h

# Tag usado para la estación
MAGNETO_TAG_KEY=station

# Ventana y agregación por defecto para /api/magnetometer-live/live
DEFAULT_MAGNETO_SINCE=1d
DEFAULT_MAGNETO_EVERY=1m

# Límite de puntos devueltos
MAGNETO_MAX_POINTS=5000

# IMPORTANTE: como en tus JSON la estación viene "chi" (minúscula),
# y en el router usamos "*" para NO filtrar por estación, dejamos:
DEFAULT_STATION=*